<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Console Linux Klaynight</title>
    <link rel="icon" type="image/svg" href="./contents/img/logo.svg">
    <link rel="stylesheet" href="./contents/css/styles.css">
    <!-- Tailwind CSS CDN - POUR D√âVELOPPEMENT UNIQUEMENT -->
    <!-- Pour la production, installer Tailwind localement: https://tailwindcss.com/docs/installation -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-soft': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    backdropBlur: {
                        'xs': '2px',
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Styles pour le gestionnaire de plugins */
        .plugin-tab.active-tab {
            background: linear-gradient(135deg, rgb(147 51 234 / 0.3), rgb(59 130 246 / 0.2));
            border-color: rgb(147 51 234 / 0.5);
            color: rgb(196 181 253);
        }
        
        .plugin-content {
            display: block;
        }
        
        .plugin-content.hidden {
            display: none;
        }
        
        .plugin-item {
            transition: all 0.3s ease;
        }
        
        .plugin-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 25px -8px rgba(0, 0, 0, 0.4);
        }
        
        .plugin-toggle {
            position: relative;
            width: 48px;
            height: 24px;
            background-color: rgb(71 85 105);
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .plugin-toggle.enabled {
            background-color: rgb(34 197 94);
        }
        
        .plugin-toggle::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        
        .plugin-toggle.enabled::before {
            transform: translateX(24px);
        }
        
        /* Styles pour le gestionnaire de commandes */
        .command-toggle {
            position: relative;
            width: 48px;
            height: 24px;
            background-color: rgb(71 85 105);
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .command-toggle.enabled {
            background-color: rgb(34 197 94);
        }
        
        .command-toggle::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        
        .command-toggle.enabled::before {
            transform: translateX(24px);
        }

        /* Styles pour les param√®tres */
        .toggle-bg {
            transition: background-color 0.3s ease;
        }
        
        .toggle-dot {
            transition: all 0.3s ease;
        }
        
        .settings-tab-btn.active {
            background: linear-gradient(135deg, rgb(147 51 234 / 0.3), rgb(168 85 247 / 0.3));
            border: 1px solid rgb(147 51 234 / 0.5);
        }
        
        .high-contrast {
            filter: contrast(1.5) brightness(1.1);
        }
        
        .high-contrast .bg-slate-800 {
            background-color: #000000 !important;
        }
        
        .high-contrast .text-slate-300 {
            color: #ffffff !important;
        }
        
        .high-contrast .border-slate-600 {
            border-color: #ffffff !important;
        }

        /* Animation pour les onglets */
        .settings-tab-content {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Styles pour les sliders */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-track {
            background: rgb(51 65 85);
            height: 8px;
            border-radius: 4px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            background: rgb(147 51 234);
            height: 20px;
            width: 20px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 0 2px rgba(147, 51, 234, 0.3);
            transition: all 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            background: rgb(168 85 247);
            transform: scale(1.1);
        }

        input[type="range"]::-moz-range-track {
            background: rgb(51 65 85);
            height: 8px;
            border-radius: 4px;
            border: none;
        }

        input[type="range"]::-moz-range-thumb {
            background: rgb(147 51 234);
            height: 20px;
            width: 20px;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 0 2px rgba(147, 51, 234, 0.3);
        }
    </style>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Console Linux Klaynight - Simulateur de terminal Linux interactif dans votre navigateur. Ex√©cutez des commandes, apprenez Linux et explorez un environnement de terminal virtuel.">
    <meta name="keywords" content="console linux, terminal web, simulateur linux, commandes linux, terminal virtuel, bash, shell, console interactive">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="./contents/img/logo.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="./contents/img/logo.svg">
    <link rel="shortcut icon" href="./contents/img/logo.svg">
    <meta name="author" content="Klaynight">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Console Linux Klaynight - Simulateur de Terminal Interactif">
    <meta property="og:description" content="D√©couvrez une console Linux interactive dans votre navigateur. Apprenez et pratiquez les commandes Linux en toute s√©curit√©.">
    <meta property="og:image" content="./contents/img/logo.svg">
    <meta property="og:url" content="">
    <meta property="og:site_name" content="Console Linux Klaynight">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Console Linux Klaynight - Simulateur de Terminal">
    <meta property="twitter:description" content="Console Linux interactive pour apprendre et pratiquer les commandes dans votre navigateur.">
    <meta property="twitter:image" content="./contents/img/logo.svg">

    <!-- Mobile Meta Tags -->
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Console Linux">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Microsoft -->
    <meta name="msapplication-TileColor" content="#0f172a">
    <meta name="msapplication-config" content="./contents/img/browserconfig.xml">

    <!-- Additional -->
    <meta name="format-detection" content="telephone=no">
    <meta name="application-name" content="Console Linux Web">
</head>
<body class="bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 min-h-screen antialiased">
    <div id="app-container" class="main-container text-slate-100 font-mono p-4 h-screen flex flex-col">
        <div class="flex flex-col h-full bg-slate-900/30 backdrop-blur-xl rounded-3xl border border-slate-700/30 shadow-2xl overflow-hidden animate-fade-in">
            
            <!-- Header with enhanced glass morphism -->
            <nav class="menu-bar bg-gradient-to-r from-slate-800/90 to-slate-700/90 backdrop-blur-2xl border-b border-slate-600/50 px-8 py-3 flex items-center justify-between relative z-10 flex-shrink-0">
                <div class="flex items-center space-x-6">
                    <!-- Enhanced Logo -->
                    <div class="w-12 h-12 bg-gradient-to-br from-emerald-500 via-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/20 ring-2 ring-white/10 p-2">
                        <img src="./contents/img/logo.svg" alt="Logo" class="w-full h-full object-contain">
                    </div>
                    
                    <!-- Enhanced Menu Buttons -->
                    <div class="flex space-x-3" id="menu-buttons">
                        <div class="relative group">
                            <button id="file-menu-button" class="menu-button px-5 py-2.5 rounded-2xl bg-slate-700/40 hover:bg-slate-600/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 text-sm font-medium transition-all duration-300 border border-slate-600/20 hover:border-slate-500/40 hover:shadow-lg group-hover:scale-105">
                                <span class="flex items-center">
                                    <div class="w-5 h-5 bg-emerald-500/20 rounded-lg flex items-center justify-center mr-2">
                                        <svg class="w-3 h-3 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"/>
                                        </svg>
                                    </div>
                                    Fichier
                                </span>
                            </button>
                            <div id="file-menu-dropdown" class="hidden absolute top-full left-0 mt-3 w-64 bg-slate-800/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-slate-600/40 py-3 dropdown-menu animate-slide-up pr-4">
                                <button id="plugin-manager-button" class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2">
                                    <div class="w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-purple-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Gestionnaire de plugins</div>
                                        <div class="text-xs text-slate-400">G√©rer vos extensions personnalis√©es</div>
                                    </div>
                                </button>
                                <button class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2" onclick="app.addOutput('Fonctionnalit√© &quot;Nouveau fichier&quot; en cours de d√©veloppement.'); app.closeAllMenus();">
                                    <div class="w-10 h-10 bg-green-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-green-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Nouveau fichier</div>
                                        <div class="text-xs text-slate-400">Cr√©er un nouveau document</div>
                                    </div>
                                </button>
                                <button class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2" onclick="app.addOutput('Fonctionnalit√© &quot;Enregistrer&quot; en cours de d√©veloppement.'); app.closeAllMenus();">
                                    <div class="w-10 h-10 bg-yellow-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-yellow-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Enregistrer</div>
                                        <div class="text-xs text-slate-400">Sauvegarder les modifications</div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <div class="relative group">
                            <button id="tools-menu-button" class="menu-button px-5 py-2.5 rounded-2xl bg-slate-700/40 hover:bg-slate-600/50 focus:outline-none focus:ring-2 focus:ring-blue-400/50 text-sm font-medium transition-all duration-300 border border-slate-600/20 hover:border-slate-500/40 hover:shadow-lg group-hover:scale-105">
                                <span class="flex items-center">
                                    <div class="w-5 h-5 bg-blue-500/20 rounded-lg flex items-center justify-center mr-2">
                                        <svg class="w-3 h-3 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        </svg>
                                    </div>
                                    Outils
                                </span>
                            </button>
                            <div id="tools-menu-dropdown" class="hidden absolute top-full left-0 mt-3 w-64 bg-slate-800/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-slate-600/40 py-3 dropdown-menu animate-slide-up pr-4">
                                <button class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2"
                                    onclick="document.getElementById('settings-modal').classList.remove('hidden'); app.closeAllMenus();">
                                    <div class="w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-purple-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Param√®tres</div>
                                        <div class="text-xs text-slate-400">Personnaliser l'interface</div>
                                    </div>
                                </button>
                                <button class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2" onclick="(function(){ app.commands.clear.call(app); app.closeAllMenus(); })();">
                                    <div class="w-10 h-10 bg-red-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-red-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Vider la console</div>
                                        <div class="text-xs text-slate-400">Ctrl+L</div>
                                    </div>
                                </button>
                                <button id="show-history-button" class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2">
                                    <div class="w-10 h-10 bg-amber-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-amber-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Afficher l'historique</div>
                                        <div class="text-xs text-slate-400">Commandes pr√©c√©dentes</div>
                                    </div>
                                </button>
                                <button onclick="app.fullscreen(); app.closeAllMenus();" class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2">
                                    <div class="w-10 h-10 bg-slate-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-slate-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Plein √©cran</div>
                                        <div class="text-xs text-slate-400">Agrandir l'interface</div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <div class="relative group">
                            <button id="help-menu-button" class="menu-button px-5 py-2.5 rounded-2xl bg-slate-700/40 hover:bg-slate-600/50 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 text-sm font-medium transition-all duration-300 border border-slate-600/20 hover:border-slate-500/40 hover:shadow-lg group-hover:scale-105">
                                <span class="flex items-center">
                                    <div class="w-5 h-5 bg-cyan-500/20 rounded-lg flex items-center justify-center mr-2">
                                        <svg class="w-3 h-3 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    Aide
                                </span>
                            </button>
                            <div id="help-menu-dropdown" class="hidden absolute top-full left-0 mt-3 w-64 bg-slate-800/95 backdrop-blur-2xl rounded-3xl shadow-2xl border border-slate-600/40 py-3 dropdown-menu animate-slide-up pr-4" >
                                <button class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2" onclick="app.showCommandManagerModal(); app.closeAllMenus();">
                                    <div class="w-10 h-10 bg-green-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-green-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">Gestionnaire de commandes</div>
                                        <div class="text-xs text-slate-400">Activer/d√©sactiver les commandes</div>
                                    </div>
                                </button>
                                <button class="block w-full text-left px-6 py-4 hover:bg-slate-700/50 text-sm transition-all duration-200 flex items-center group/item rounded-2xl mx-2" onclick="app.openAboutModal();">
                                    <div class="w-10 h-10 bg-indigo-500/20 rounded-xl flex items-center justify-center mr-4 group-hover/item:bg-indigo-500/30 transition-colors">
                                        <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="font-medium">√Ä propos</div>
                                        <div class="text-xs text-slate-400">Informations sur l'application</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-6">
                    <span id="console-name" class="text-sm text-slate-300 select-none font-medium tracking-wide">Console Linux Klaynight</span>
                    <div class="flex items-center space-x-3">
                        <div class="w-4 h-4 bg-red-500 rounded-full shadow-lg shadow-red-500/50 animate-pulse-soft"></div>
                        <div class="w-4 h-4 bg-yellow-500 rounded-full shadow-lg shadow-yellow-500/50"></div>
                        <div class="w-4 h-4 bg-green-500 rounded-full shadow-lg shadow-green-500/50"></div>
                    </div>
                </div>
            </nav>

            <!-- Enhanced Tabs section -->
            <div class="bg-gradient-to-r from-slate-800/40 to-slate-700/40 backdrop-blur-xl border-b border-slate-600/30 px-8 py-2 flex items-center justify-between">
            <div class="flex items-center space-x-3 overflow-x-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent" id="tabs-container">
                <!-- Tabs will be generated dynamically -->
            </div>
            <div class="flex items-center space-x-3">
                <!-- Bouton pour basculer la taille des onglets -->
                <!--<button id="toggle-tabs-size-button" class="flex-shrink-0 p-3 bg-gradient-to-br from-slate-700/60 to-slate-600/60 hover:from-slate-600/70 hover:to-slate-500/70 text-slate-300 hover:text-white rounded-2xl transition-all duration-300 border border-slate-600/30 hover:border-slate-500/50 shadow-lg hover:shadow-xl hover:scale-105" title="Basculer la taille des onglets">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
                    </svg>
                </button>-->
                
                <button id="new-tab-button" class="flex-shrink-0 p-3 bg-gradient-to-br from-slate-700/60 to-slate-600/60 hover:from-slate-600/70 hover:to-slate-500/70 text-slate-300 hover:text-white rounded-2xl transition-all duration-300 border border-slate-600/30 hover:border-slate-500/50 shadow-lg hover:shadow-xl hover:scale-105" title="Nouvel onglet">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                </button>
            </div>
        </div>
            
            <!-- Enhanced Console output -->
            <div class="flex-1 flex flex-col overflow-hidden">
                <div id="console-output" class="flex-1 bg-gradient-to-br from-slate-900/20 via-slate-800/20 to-slate-900/20 backdrop-blur-sm p-8 overflow-auto custom-scrollbar border-b border-slate-600/20">
                    <div id="loading-llm-indicator" class="text-yellow-400 hidden animate-pulse flex items-center bg-yellow-400/10 rounded-2xl p-4 mb-4 border border-yellow-400/20">
                        <div class="w-6 h-6 bg-yellow-400 rounded-full mr-3 animate-bounce"></div>
                        <span class="font-medium">G√©n√©ration en cours...</span>
                    </div>
                    <div id="console-end-ref"></div>
                </div>

                <!-- Enhanced command input -->
                <form id="command-form" class="flex flex-shrink-0 bg-gradient-to-r from-slate-800/40 to-slate-700/40 backdrop-blur-xl p-6 border-t border-slate-600/30">
                    <label for="command-input" id="prompt-label" class="text-emerald-400 mr-4 flex items-center select-none font-bold text-lg"></label>
                    <input
                        id="command-input"
                        type="text"
                        class="command-prompt flex-grow bg-slate-700/30 text-white border border-slate-600/40 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 px-6 py-4 rounded-2xl transition-all duration-300 placeholder-slate-400 backdrop-blur-sm shadow-inner text-lg"
                        autocomplete="off"
                        autocapitalize="off"
                        spellcheck="false"
                        placeholder="Tapez votre commande..."
                    />
                </form>
            </div>
        </div>

        <!-- Enhanced Modals -->
        <div id="code-import-modal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-6">
            <div class="bg-slate-800/95 backdrop-blur-2xl p-10 rounded-3xl shadow-2xl w-full max-w-3xl border border-slate-600/40 animate-slide-up">
                <h2 class="text-3xl font-bold mb-8 text-white flex items-center">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mr-4 shadow-lg">
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"/>
                        </svg>
                    </div>
                    Importer du code
                </h2>
                <textarea
                    id="code-to-import-textarea"
                    class="w-full h-80 bg-slate-700/40 text-white p-6 rounded-3xl focus:outline-none focus:ring-2 focus:ring-blue-400/50 resize-none custom-scrollbar border border-slate-600/40 backdrop-blur-sm shadow-inner"
                    placeholder="Collez votre code ici (par exemple, une nouvelle commande JavaScript)..."
                ></textarea>
                <div class="mt-8 flex justify-end space-x-4">
                    <button
                        id="cancel-import-button"
                        class="px-8 py-4 bg-slate-600/50 text-white rounded-2xl hover:bg-slate-500/60 focus:outline-none focus:ring-2 focus:ring-slate-400/50 transition-all duration-300 border border-slate-500/40 font-medium"
                    >
                        Annuler
                    </button>
                    <button
                        id="confirm-import-button"
                        class="px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl hover:from-blue-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-blue-400/50 transition-all duration-300 shadow-lg hover:shadow-xl font-medium"
                    >
                        Importer
                    </button>
                </div>
            </div>
        </div>

        <!-- Plugin Manager Modal -->
        <div id="plugin-manager-modal" class="hidden fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-6">
            <div class="bg-slate-800/95 backdrop-blur-2xl rounded-3xl shadow-2xl w-full max-w-6xl h-[90vh] border border-slate-600/40 animate-slide-up overflow-hidden">
                <div class="h-full flex flex-col">
                    <!-- Header -->
                    <div class="p-6 border-b border-slate-600/40">
                        <div class="flex items-center justify-between">
                            <h2 class="text-2xl font-bold text-white flex items-center">
                                <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-600 rounded-xl flex items-center justify-center mr-3 shadow-lg">
                                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                                    </svg>
                                </div>
                                Gestionnaire de Plugins
                            </h2>
                            <button id="close-plugin-manager" class="w-8 h-8 bg-slate-600/50 rounded-lg flex items-center justify-center hover:bg-slate-500/60 transition-colors">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="flex-1 flex overflow-hidden">
                        <!-- Sidebar -->
                        <div class="w-80 bg-slate-700/30 border-r border-slate-600/40 p-4 overflow-y-auto">
                            <div class="space-y-3">
                                <button id="plugin-tab-import" class="w-full text-left px-4 py-3 rounded-xl bg-purple-600/20 text-purple-300 border border-purple-500/30 font-medium plugin-tab active-tab">
                                    üì• Importer un Plugin
                                </button>
                                <button id="plugin-tab-manage" class="w-full text-left px-4 py-3 rounded-xl bg-slate-600/20 text-slate-300 border border-slate-500/30 font-medium plugin-tab hover:bg-slate-600/30 transition-colors">
                                    ‚öôÔ∏è G√©rer les Plugins
                                </button>
                                <button id="plugin-tab-export" class="w-full text-left px-4 py-3 rounded-xl bg-slate-600/20 text-slate-300 border border-slate-500/30 font-medium plugin-tab hover:bg-slate-600/30 transition-colors">
                                    üì§ Exporter/Importer Config
                                </button>
                            </div>
                        </div>

                        <!-- Main Content -->
                        <div class="flex-1 p-6 overflow-y-auto">
                            <!-- Import Plugin Tab -->
                            <div id="plugin-content-import" class="plugin-content">
                                <div class="mb-6">
                                    <h3 class="text-xl font-bold text-white mb-2">Importer un nouveau plugin</h3>
                                    <p class="text-slate-400">Collez le code JavaScript de votre plugin ci-dessous. Le plugin doit exporter des commandes au format CLK.</p>
                                </div>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-300 mb-2">Nom du plugin</label>
                                        <input type="text" id="plugin-name-input" class="w-full bg-slate-700/50 text-white px-4 py-3 rounded-xl border border-slate-600/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50" placeholder="mon_plugin_personnalise">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-slate-300 mb-2">Code du plugin</label>
                                        <textarea id="plugin-code-input" class="w-full h-64 bg-slate-700/50 text-white p-4 rounded-xl border border-slate-600/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50 resize-none font-mono text-sm" placeholder="module.exports = {
                                        maCommande: {
    name: 'maCommande',
    description: 'Description de ma commande',
    execute: function(args) {
    // Votre code ici
    this.addOutput('Hello World!');
    }
}
};"></textarea>
                                    </div>
                                    
                                    <div class="flex space-x-3">
                                        <button id="import-plugin-btn" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl hover:from-purple-500 hover:to-blue-500 focus:outline-none focus:ring-2 focus:ring-purple-400/50 transition-all duration-300 shadow-lg font-medium">
                                            Importer le Plugin
                                        </button>
                                        <button id="clear-plugin-code-btn" class="px-6 py-3 bg-slate-600/50 text-white rounded-xl hover:bg-slate-500/60 focus:outline-none focus:ring-2 focus:ring-slate-400/50 transition-all duration-300 font-medium">
                                            Effacer
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Manage Plugins Tab -->
                            <div id="plugin-content-manage" class="plugin-content hidden">
                                <div class="mb-6">
                                    <h3 class="text-xl font-bold text-white mb-2">Plugins install√©s</h3>
                                    <p class="text-slate-400">G√©rez l'√©tat et les param√®tres de vos plugins.</p>
                                </div>
                                
                                <div id="plugins-list" class="space-y-3">
                                    <!-- Les plugins seront ajout√©s dynamiquement ici -->
                                </div>
                            </div>

                            <!-- Export/Import Config Tab -->
                            <div id="plugin-content-export" class="plugin-content hidden">
                                <div class="mb-6">
                                    <h3 class="text-xl font-bold text-white mb-2">Configuration des plugins</h3>
                                    <p class="text-slate-400">Sauvegardez ou restaurez votre configuration de plugins.</p>
                                </div>
                                
                                <div class="space-y-6">
                                    <div>
                                        <h4 class="text-lg font-medium text-white mb-3">Exporter la configuration</h4>
                                        <p class="text-slate-400 text-sm mb-3">T√©l√©chargez un fichier JSON contenant tous vos plugins et param√®tres.</p>
                                        <button id="export-config-btn" class="px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-500 hover:to-emerald-500 focus:outline-none focus:ring-2 focus:ring-green-400/50 transition-all duration-300 shadow-lg font-medium">
                                            üì§ Exporter Configuration
                                        </button>
                                    </div>
                                    
                                    <div class="border-t border-slate-600/40 pt-6">
                                        <h4 class="text-lg font-medium text-white mb-3">Importer une configuration</h4>
                                        <p class="text-slate-400 text-sm mb-3">Chargez une configuration depuis un fichier JSON ou collez le contenu directement.</p>
                                        
                                        <div class="space-y-3">
                                            <input type="file" id="config-file-input" accept=".json" class="hidden">
                                            <button id="import-config-file-btn" class="px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-blue-400/50 transition-all duration-300 shadow-lg font-medium">
                                                üìÇ Choisir un fichier
                                            </button>
                                            
                                            <div class="text-slate-400 text-center text-sm">ou</div>
                                            
                                            <textarea id="config-json-input" class="w-full h-32 bg-slate-700/50 text-white p-4 rounded-xl border border-slate-600/50 focus:outline-none focus:ring-2 focus:ring-blue-400/50 resize-none font-mono text-sm" placeholder="Collez votre configuration JSON ici..."></textarea>
                                            
                                            <button id="import-config-json-btn" class="px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-500 hover:to-red-500 focus:outline-none focus:ring-2 focus:ring-orange-400/50 transition-all duration-300 shadow-lg font-medium">
                                                üîÑ Importer depuis JSON
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced About Modal -->
        <div id="about-modal" class="fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 hidden p-6">
            <div class="bg-slate-800/95 backdrop-blur-2xl rounded-3xl p-8 shadow-2xl max-w-2xl w-full text-slate-100 border border-slate-600/40 mx-4 animate-slide-up">
                <h2 class="text-3xl font-bold mb-6 flex items-center">
                    <div class="w-12 h-12 bg-gradient-to-br from-emerald-500 via-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mr-4 shadow-lg shadow-blue-500/20">
                        <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    √Ä propos
                </h2>
                <div id="about-modal-content" class="overflow-y-auto max-h-[70vh] custom-scrollbar">
                    <div class="bg-slate-900/50 backdrop-blur-sm p-6 rounded-2xl mb-6 border border-slate-700/40">
                        <div class="font-bold text-2xl bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent mb-4">Console Linux Klaynight</div>
                        <div class="text-slate-300 space-y-3 grid grid-cols-2 gap-4">
                            <div class="flex items-center bg-slate-800/40 p-3 rounded-xl">
                                <span class="text-slate-400 mr-2 font-medium text-sm">Version:</span>
                                <span id="app-version" class="text-emerald-400 font-mono font-bold">Chargement...</span>
                            </div>
                            <div class="flex items-center bg-slate-800/40 p-3 rounded-xl">
                                <span class="text-slate-400 mr-2 font-medium text-sm">Build:</span>
                                <span id="build-date" class="text-yellow-400 font-mono font-bold">Chargement...</span>
                            </div>
                            <div class="flex items-center bg-slate-800/40 p-3 rounded-xl">
                                <span class="text-slate-400 mr-2 font-medium text-sm">D√©velopp√© par:</span>
                                <span class="text-purple-400 font-semibold">Klaynight</span>
                            </div>
                            <div class="flex items-center bg-slate-800/40 p-3 rounded-xl">
                                <span class="text-slate-400 mr-2 font-medium text-sm">Licence:</span>
                                <span class="text-blue-400 font-semibold">MIT</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-900/30 backdrop-blur-sm rounded-2xl p-6 mb-6 border border-slate-700/40">
                        <h3 class="text-xl font-semibold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4 flex items-center">
                            <svg class="w-6 h-6 mr-2 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                            </svg>
                            Description du projet
                        </h3>
                        <div class="space-y-4 text-slate-300">
                            <p class="text-sm leading-relaxed">
                                Console Linux Klaynight est un simulateur de terminal Linux interactif con√ßu pour l'apprentissage et la pratique des commandes Unix/Linux directement dans votre navigateur.
                            </p>
                            <p class="text-sm leading-relaxed">
                                Cette application offre une exp√©rience authentique avec un syst√®me de fichiers virtuel, des commandes compl√®tes et une interface moderne et intuitive.
                            </p>
                            
                            <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-600/30">
                                <h4 class="font-semibold text-white mb-2 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                    Am√©liorations et suggestions
                                </h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    Vous avez des id√©es pour am√©liorer l'interface ou ajouter de nouvelles fonctionnalit√©s ?
                                </p>
                                <a href="https://github.com/Klaynight-dev/Web_linux_console/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature%5D+%5BTitre+de+l%27am√©lioration%5D" 
                                   id="suggest-improvement-button" 
                                   target="_blank" 
                                   class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white text-sm font-medium rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                    </svg>
                                    Proposer une am√©lioration
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Section Changelog -->
                    <div class="bg-slate-900/30 backdrop-blur-sm rounded-2xl p-6 mb-6 border border-slate-700/40">
                        <h3 class="text-xl font-semibold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-4 flex items-center">
                            <svg class="w-6 h-6 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            Journal des modifications
                        </h3>
                        <div id="changelog-container" class="max-h-64 overflow-y-auto custom-scrollbar">
                            <!-- Le changelog sera charg√© dynamiquement ici -->
                            <div class="text-slate-400 text-center py-4">Chargement du changelog...</div>
                        </div>
                    </div>
                </div>
                    
                    <div class="flex justify-center mt-5">
                        <button 
                            onclick="document.getElementById('about-modal').classList.add('hidden');"
                            class="px-6 py-3 bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 text-white rounded-2xl transition-all duration-300 font-medium shadow-lg hover:shadow-xl"
                        >
                            Fermer
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Settings Modal -->
        <div id="settings-modal" class="fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 hidden p-6">
            <div class="bg-slate-800/95 backdrop-blur-2xl rounded-3xl p-6 shadow-2xl max-w-2xl w-full text-slate-100 border border-slate-600/40 animate-slide-up max-h-[90vh] flex flex-col">
                <h2 class="text-2xl font-bold mb-6 flex items-center flex-shrink-0">
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mr-3 shadow-lg">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    </div>
                    Param√®tres
                </h2>

                <div class="flex-1 overflow-y-auto custom-scrollbar pr-2">
                    <form class="space-y-6" id="settings-form">
                    <!-- Section Navigation par onglets -->
                    <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                        <div class="flex space-x-2 mb-4">
                            <button type="button" class="settings-tab-btn active px-4 py-2 bg-purple-600/30 text-purple-300 rounded-lg transition-colors" data-tab="appearance">
                                <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"/>
                                </svg>
                                Apparence
                            </button>
                            <button type="button" class="settings-tab-btn px-4 py-2 bg-slate-700/60 text-slate-300 rounded-lg transition-colors hover:bg-slate-600/60" data-tab="behavior">
                                <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                </svg>
                                Comportement
                            </button>
                            <button type="button" class="settings-tab-btn px-4 py-2 bg-slate-700/60 text-slate-300 rounded-lg transition-colors hover:bg-slate-600/60" data-tab="data">
                                <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"/>
                                </svg>
                                Donn√©es
                            </button>
                        </div>
                    </div>

                    <!-- Onglet Apparence -->
                    <div class="settings-tab-content" id="appearance-tab">
                        <div class="space-y-4">
                            <!-- Th√®me et Mode sombre/clair -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Th√®me</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <select id="theme-select" class="bg-slate-700/60 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400/50 border border-slate-600/40">
                                        <option value="dark">Sombre (par d√©faut)</option>
                                        <option value="light">Clair</option>
                                    </select>
                                    <div class="flex items-center space-x-3">
                                        <label class="text-sm text-slate-300">Mode haute contraste</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="high-contrast-mode" class="sr-only">
                                            <div class="toggle-bg bg-slate-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Police et Taille de police -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <div class="flex space-x-4">
                                    <!-- Police -->
                                    <div class="flex-1">
                                        <label for="font-family-select" class="block mb-3 font-semibold text-white">Police</label>
                                        <select id="font-family-select" class="w-full bg-slate-700/60 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400/50 border border-slate-600/40">
                                            <option value="monospace">Monospace (d√©faut)</option>
                                            <option value="Fira Mono, monospace">Fira Mono</option>
                                            <option value="Consolas, monospace">Consolas</option>
                                            <option value="Courier New, monospace">Courier New</option>
                                            <option value="Arial, sans-serif">Arial</option>
                                            <option value="Roboto Mono, monospace">Roboto Mono</option>
                                            <option value="Source Code Pro, monospace">Source Code Pro</option>
                                            <option value="JetBrains Mono, monospace">JetBrains Mono</option>
                                        </select>
                                    </div>
                                    
                                    <!-- Taille de police -->
                                    <div class="flex-1">
                                        <label class="block mb-3 font-semibold text-white">Taille de police</label>
                                        <div class="flex items-center space-x-3">
                                            <input type="range" id="font-size-range" min="10" max="28" value="16" class="flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider">
                                            <span id="font-size-value" class="text-emerald-400 font-bold min-w-[50px]">16px</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Fond de la console -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label for="console-bg-type" class="block mb-3 font-semibold text-white">Fond de la console</label>
                                <div class="space-y-3">
                                    <select id="console-bg-type" class="w-full bg-slate-700/60 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400/50 border border-slate-600/40">
                                        <option value="color" selected>Couleur unie</option>
                                        <option value="image">Image personnalis√©e</option>
                                        <option value="gradient">D√©grad√©</option>
                                    </select>
                                    <div class="bg-control-group" id="color-controls">
                                        <div class="flex items-center space-x-3">
                                            <input type="color" id="console-bg-color" value="#1f2937" class="w-12 h-12 p-0 border-0 bg-transparent rounded-lg cursor-pointer">
                                            <label class="text-sm text-slate-300">Couleur de fond</label>
                                        </div>
                                    </div>
                                    <div class="bg-control-group hidden" id="image-controls">
                                        <input type="text" id="console-bg-url" placeholder="URL de l'image" class="w-full bg-slate-700/60 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400/50 border border-slate-600/40 mb-3">
                                        <div id="console-bg-image-import-group">
                                            <label for="console-bg-file" class="block mb-2 text-sm text-slate-300">Importer une image :</label>
                                            <input type="file" id="console-bg-file" accept="image/*" class="w-full text-slate-300 file:mr-3 file:py-2 file:px-3 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-purple-500 file:text-white hover:file:bg-purple-600">
                                        </div>
                                    </div>
                                    <div class="bg-control-group hidden" id="gradient-controls">
                                        <div class="grid grid-cols-2 gap-3">
                                            <div>
                                                <label class="block text-sm text-slate-300 mb-2">Couleur 1</label>
                                                <input type="color" id="gradient-color1" value="#1f2937" class="w-full h-10 p-0 border-0 bg-transparent rounded-lg cursor-pointer">
                                            </div>
                                            <div>
                                                <label class="block text-sm text-slate-300 mb-2">Couleur 2</label>
                                                <input type="color" id="gradient-color2" value="#374151" class="w-full h-10 p-0 border-0 bg-transparent rounded-lg cursor-pointer">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Apparence des commandes -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Apparence des commandes</label>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Afficher les timestamps</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="show-timestamps" class="sr-only">
                                            <div class="toggle-bg bg-slate-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Num√©roter les lignes</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="show-line-numbers" class="sr-only">
                                            <div class="toggle-bg bg-slate-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Onglet Comportement -->
                    <div class="settings-tab-content hidden" id="behavior-tab">
                        <div class="space-y-4">
                            <!-- Historique -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Gestion de l'historique</label>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm text-slate-300 mb-2">Taille maximale</label>
                                        <input type="number" id="history-size" min="10" max="500" value="50" class="w-full bg-slate-700/60 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400/50 border border-slate-600/40">
                                    </div>
                                    <div>
                                        <label class="block text-sm text-slate-300 mb-2">Auto-sauvegarde</label>
                                        <div class="relative inline-block w-12 h-6 mt-3">
                                            <input type="checkbox" id="auto-save-history" class="sr-only" checked>
                                            <div class="toggle-bg bg-green-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute right-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Autocompl√©tion -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Autocompl√©tion</label>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Activer l'autocompl√©tion</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="enable-autocomplete" class="sr-only" checked>
                                            <div class="toggle-bg bg-green-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute right-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Autocompl√©tion des fichiers</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="autocomplete-files" class="sr-only" checked>
                                            <div class="toggle-bg bg-green-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute right-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sons et notifications -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Sons et notifications</label>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Sons syst√®me</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="enable-sounds" class="sr-only">
                                            <div class="toggle-bg bg-slate-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Notifications bureau</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="enable-notifications" class="sr-only">
                                            <div class="toggle-bg bg-slate-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Performance -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Performance</label>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm text-slate-300 mb-2">Limite d'affichage (lignes)</label>
                                        <input type="number" id="output-limit" min="100" max="5000" value="1000" class="w-full bg-slate-700/60 text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400/50 border border-slate-600/40">
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="text-sm text-slate-300">Animation fluide</label>
                                        <div class="relative inline-block w-12 h-6">
                                            <input type="checkbox" id="smooth-animations" class="sr-only" checked>
                                            <div class="toggle-bg bg-green-600 w-12 h-6 rounded-full cursor-pointer"></div>
                                            <div class="toggle-dot absolute right-1 top-1 bg-white w-4 h-4 rounded-full transition"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Onglet Donn√©es -->
                    <div class="settings-tab-content hidden" id="data-tab">
                        <div class="space-y-4">
                            <!-- Sauvegarde et restauration -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Sauvegarde et restauration</label>
                                <div class="space-y-3">
                                    <button type="button" id="export-settings-btn" class="w-full px-4 py-3 bg-blue-600/30 text-blue-300 border border-blue-500/40 rounded-lg hover:bg-blue-600/40 transition-colors">
                                        <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                        </svg>
                                        Exporter les param√®tres
                                    </button>
                                    <button type="button" id="import-settings-btn" class="w-full px-4 py-3 bg-green-600/30 text-green-300 border border-green-500/40 rounded-lg hover:bg-green-600/40 transition-colors">
                                        <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"/>
                                        </svg>
                                        Importer les param√®tres
                                    </button>
                                </div>
                            </div>

                            <!-- R√©initialisation -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">R√©initialisation</label>
                                <div class="space-y-3">
                                    <button type="button" id="reset-settings-btn" class="w-full px-4 py-3 bg-yellow-600/30 text-yellow-300 border border-yellow-500/40 rounded-lg hover:bg-yellow-600/40 transition-colors">
                                        <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                        </svg>
                                        R√©initialiser aux valeurs par d√©faut
                                    </button>
                                    <button type="button" id="clear-all-data-btn" class="w-full px-4 py-3 bg-red-600/30 text-red-300 border border-red-500/40 rounded-lg hover:bg-red-600/40 transition-colors">
                                        <svg class="w-4 h-4 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                        </svg>
                                        Effacer toutes les donn√©es
                                    </button>
                                </div>
                            </div>

                            <!-- Statistiques -->
                            <div class="bg-slate-900/40 p-4 rounded-xl border border-slate-700/40">
                                <label class="block mb-3 font-semibold text-white">Statistiques</label>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div class="bg-slate-800/50 p-3 rounded-lg">
                                        <div class="text-slate-400">Commandes ex√©cut√©es</div>
                                        <div class="text-xl font-bold text-green-400" id="stats-commands">0</div>
                                    </div>
                                    <div class="bg-slate-800/50 p-3 rounded-lg">
                                        <div class="text-slate-400">Taille de l'historique</div>
                                        <div class="text-xl font-bold text-blue-400" id="stats-history">0</div>
                                    </div>
                                    <div class="bg-slate-800/50 p-3 rounded-lg">
                                        <div class="text-slate-400">Plugins charg√©s</div>
                                        <div class="text-xl font-bold text-purple-400" id="stats-plugins">0</div>
                                    </div>
                                    <div class="bg-slate-800/50 p-3 rounded-lg">
                                        <div class="text-slate-400">Espace utilis√©</div>
                                        <div class="text-xl font-bold text-orange-400" id="stats-storage">0 KB</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </form>
                </div>
                
                <div class="flex justify-end mt-6 space-x-3 flex-shrink-0">
                    <button id="cancel-settings-modal" class="px-6 py-3 bg-slate-600/50 text-white rounded-xl hover:bg-slate-500/60 focus:outline-none focus:ring-2 focus:ring-slate-400/50 transition-all duration-300 border border-slate-500/40 font-medium">
                    Annuler
                    </button>
                    <button id="save-settings-modal" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-500 hover:to-pink-500 focus:outline-none focus:ring-2 focus:ring-purple-400/50 transition-all duration-300 shadow-lg hover:shadow-xl font-medium">
                    Enregistrer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced History Modal -->
    <div id="history-modal" class="fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 hidden p-6">
        <div class="bg-slate-800/95 backdrop-blur-2xl rounded-3xl p-6 shadow-2xl max-w-2xl w-full text-slate-100 border border-slate-600/40 mx-4 animate-slide-up">
            <h2 class="text-2xl font-bold mb-4 flex items-center">
                <div class="w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl flex items-center justify-center mr-3 shadow-lg shadow-amber-500/20">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                Historique des commandes
            </h2>
            
            <div class="bg-slate-900/50 backdrop-blur-sm p-4 rounded-2xl mb-4 border border-slate-700/40">
                <div class="flex items-center justify-between mb-3">
                    <span class="text-slate-300 font-medium text-sm">Commandes r√©centes</span>
                    <button id="clear-history-button" class="px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-all duration-300 border border-red-500/20 hover:border-red-500/40 text-xs font-medium">
                        <svg class="w-3 h-3 mr-1.5 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                        </svg>
                        Vider
                    </button>
                </div>
                
                <div id="history-content" class="overflow-y-auto max-h-[40vh] custom-scrollbar">
                    <div id="history-empty" class="text-center py-8 text-slate-400">
                        <svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                        </svg>
                        <p class="font-medium">Aucune commande dans l'historique</p>
                        <p class="text-xs mt-1">Commencez √† taper des commandes</p>
                    </div>
                    <div id="history-list" class="space-y-1.5"></div>
                </div>
            </div>
            
            <div class="bg-slate-900/30 backdrop-blur-sm rounded-xl p-3 border border-slate-700/40 mb-4">
                <div class="flex items-center text-xs text-slate-400">
                    <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <span>Cliquez sur une commande pour la r√©ex√©cuter ‚Ä¢ Utilisez ‚Üë/‚Üì pour naviguer</span>
                </div>
            </div>
            
            <div class="flex justify-center">
                <button 
                    onclick="document.getElementById('history-modal').classList.add('hidden');"
                    class="px-5 py-2.5 bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 text-white rounded-xl transition-all duration-300 font-medium shadow-lg hover:shadow-xl text-sm"
                >
                    Fermer
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="contents/js/app.js"></script>
    <!-- Script d'urgence pour √©viter l'erreur HTTP 431 -->
    <script src="contents/js/emergency-cleanup-431.js"></script>

</body>
</html>
